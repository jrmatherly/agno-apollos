#!/usr/bin/env bash
#MISE description="Run an agent via CLI (usage: mise run agent:cli -- <agent-module> [-q question])"
# Examples:
#   mise run agent:cli -- data_agent -q "What tables exist?"
#   mise run agent:cli -- reasoning_agent  # interactive mode
#   mise run agent:cli -- knowledge_agent --load-docs

set -euo pipefail

if [ $# -eq 0 ]; then
    echo "Usage: mise run agent:cli -- <agent_module> [args...]"
    echo ""
    echo "Agent modules: knowledge_agent, data_agent, reasoning_agent, web_search_agent, mcp_agent"
    echo ""
    echo "Examples:"
    echo "  mise run agent:cli -- data_agent -q 'What tables exist?'"
    echo "  mise run agent:cli -- reasoning_agent   # interactive mode"
    exit 1
fi

MODULE="$1"
shift

docker exec -it apollos-backend python -m "backend.agents.${MODULE}" "$@"
