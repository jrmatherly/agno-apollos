---
title: "MCP Agent"
description: "Tool-use agent connecting to external services via the Model Context Protocol."
---

The MCP Agent connects to external tools using the [Model Context Protocol](https://modelcontextprotocol.io/). It discovers and calls tools exposed by MCP servers.

```python
from agno.agent import Agent
from agno.guardrails import PIIDetectionGuardrail, PromptInjectionGuardrail
from agno.tools.mcp import MCPTools

from backend.db import get_postgres_db
from backend.models import get_model

mcp_agent = Agent(
    id="mcp-agent",
    name="MCP Agent",
    model=get_model(),
    tools=[MCPTools(url="https://docs.agno.com/mcp")],
    db=get_postgres_db(),
    pre_hooks=[PIIDetectionGuardrail(mask_pii=False), PromptInjectionGuardrail()],
    enable_agentic_memory=True,
    enable_session_summaries=True,
    markdown=True,
)
```

## Key features

| Feature | Configuration |
|---------|--------------|
| MCP tool discovery | `MCPTools(url=...)` connects to any MCP server |
| Session memory | `db=get_postgres_db()` persists conversations |
| Guardrails | PII detection and prompt injection via `pre_hooks` |
| Session summaries | `enable_session_summaries=True` for conversation persistence |

## MCP endpoint

The default configuration connects to the Agno documentation MCP server at `https://docs.agno.com/mcp`. This exposes tools for searching and querying Agno documentation.

To connect to a different MCP server, change the `url` parameter:

```python
tools=[MCPTools(url="https://your-mcp-server.com/mcp")]
```

You can connect to multiple MCP servers by adding more `MCPTools` instances:

```python
tools=[
    MCPTools(url="https://docs.agno.com/mcp"),
    MCPTools(url="https://your-other-server.com/mcp"),
]
```

See the [Agno MCP docs](https://docs.agno.com/tools/mcp) for advanced MCP configuration, including SSE transport and dynamic headers.

## Example queries

```
What tools do you have access to?
Search the docs for how to use LearningMachine
Find examples of agents with memory
```
